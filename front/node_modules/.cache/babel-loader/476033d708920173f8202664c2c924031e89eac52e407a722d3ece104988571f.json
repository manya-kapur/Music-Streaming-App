{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\Downloads\\\\bdt final\\\\front\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useCallback, useMemo, useState } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport Shell from './layout/Shell';\nimport Home from './pages/user/Home';\nimport Login from './pages/admin/Login';\nimport Dashboard from './pages/admin/Dashboard';\nimport SongsAdmin from './pages/admin/SongsAdmin';\nimport NotFound from './pages/NotFound';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst isSameTrack = (a, b) => {\n  if (!a || !b) return false;\n  if (a._id && b._id) {\n    return a._id === b._id;\n  }\n  return a.song === b.song;\n};\nconst App = () => {\n  _s();\n  const [playerState, setPlayerState] = useState({\n    queue: [],\n    index: -1\n  });\n  const currentTrack = useMemo(() => playerState.queue[playerState.index] || null, [playerState]);\n  const handleSelectTrack = useCallback((track, list = []) => {\n    if (!track) return;\n    setPlayerState(prev => {\n      const baseQueue = list.length ? list : prev.queue;\n      let queue = baseQueue.length ? baseQueue : [track];\n      let index = queue.findIndex(item => isSameTrack(item, track));\n      if (index === -1) {\n        queue = [...queue, track];\n        index = queue.length - 1;\n      }\n      return {\n        queue,\n        index\n      };\n    });\n  }, []);\n  const handleNavigateTrack = useCallback(index => {\n    setPlayerState(prev => {\n      if (!prev.queue.length) return prev;\n      if (index < 0 || index >= prev.queue.length) {\n        return prev;\n      }\n      if (index === prev.index) return prev;\n      return {\n        ...prev,\n        index\n      };\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      element: /*#__PURE__*/_jsxDEV(Shell, {\n        currentTrack: currentTrack,\n        currentIndex: playerState.index,\n        queue: playerState.queue,\n        onSelectTrack: handleSelectTrack,\n        onNavigateTrack: handleNavigateTrack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        index: true,\n        element: /*#__PURE__*/_jsxDEV(Home, {\n          onSelectTrack: handleSelectTrack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 31\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin\",\n        element: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin/songs\",\n        element: /*#__PURE__*/_jsxDEV(SongsAdmin, {\n          onSelectTrack: handleSelectTrack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"*\",\n      element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"gBFHYPY3k3IfoqHtXmlzivFI/HI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useCallback","useMemo","useState","Routes","Route","Shell","Home","Login","Dashboard","SongsAdmin","NotFound","jsxDEV","_jsxDEV","isSameTrack","a","b","_id","song","App","_s","playerState","setPlayerState","queue","index","currentTrack","handleSelectTrack","track","list","prev","baseQueue","length","findIndex","item","handleNavigateTrack","children","element","currentIndex","onSelectTrack","onNavigateTrack","fileName","_jsxFileName","lineNumber","columnNumber","path","_c","$RefreshReg$"],"sources":["C:/Users/dell/Downloads/bdt final/front/src/App.js"],"sourcesContent":["import { useCallback, useMemo, useState } from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport Shell from './layout/Shell';\r\nimport Home from './pages/user/Home';\r\nimport Login from './pages/admin/Login';\r\nimport Dashboard from './pages/admin/Dashboard';\r\nimport SongsAdmin from './pages/admin/SongsAdmin';\r\nimport NotFound from './pages/NotFound';\r\n\r\nconst isSameTrack = (a, b) => {\r\n  if (!a || !b) return false;\r\n  if (a._id && b._id) {\r\n    return a._id === b._id;\r\n  }\r\n  return a.song === b.song;\r\n};\r\n\r\nconst App = () => {\r\n  const [playerState, setPlayerState] = useState({ queue: [], index: -1 });\r\n\r\n  const currentTrack = useMemo(\r\n    () => playerState.queue[playerState.index] || null,\r\n    [playerState]\r\n  );\r\n\r\n  const handleSelectTrack = useCallback((track, list = []) => {\r\n    if (!track) return;\r\n\r\n    setPlayerState((prev) => {\r\n      const baseQueue = list.length ? list : prev.queue;\r\n      let queue = baseQueue.length ? baseQueue : [track];\r\n      let index = queue.findIndex((item) => isSameTrack(item, track));\r\n\r\n      if (index === -1) {\r\n        queue = [...queue, track];\r\n        index = queue.length - 1;\r\n      }\r\n\r\n      return { queue, index };\r\n    });\r\n  }, []);\r\n\r\n  const handleNavigateTrack = useCallback((index) => {\r\n    setPlayerState((prev) => {\r\n      if (!prev.queue.length) return prev;\r\n      if (index < 0 || index >= prev.queue.length) {\r\n        return prev;\r\n      }\r\n      if (index === prev.index) return prev;\r\n      return { ...prev, index };\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Routes>\r\n      <Route\r\n        element={\r\n          <Shell\r\n            currentTrack={currentTrack}\r\n            currentIndex={playerState.index}\r\n            queue={playerState.queue}\r\n            onSelectTrack={handleSelectTrack}\r\n            onNavigateTrack={handleNavigateTrack}\r\n          />\r\n        }\r\n      >\r\n        <Route index element={<Home onSelectTrack={handleSelectTrack} />} />\r\n        <Route path=\"/admin\" element={<Dashboard />} />\r\n        <Route path=\"/admin/songs\" element={<SongsAdmin onSelectTrack={handleSelectTrack} />} />\r\n      </Route>\r\n      <Route path=\"/login\" element={<Login />} />\r\n      <Route path=\"*\" element={<NotFound />} />\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}